/*! For license information please see human-writes.min.js.LICENSE.txt */
(()=>{"use strict";const t="&lt;",e="&gt;";class n{#t=[];#e="";#n="";#r=[];#o=[];#i=[];#a=[];#s=[];#c=[];constructor(t,e=!1){this.#e=t.trim(),this.#n=`${this.#e}\n<Eof />`,this.protect(),e&&this.markupQuotes(),this.collectWords(this.#n),this.makeMistakes()}get list(){return this.#t}get text(){return this.#e}get workingText(){return this.#n}get words(){return this.#r}get mistakes(){return this.#s}get mistakeCursors(){return this.#c}get phraseStarts(){return this.#o}get phraseLengths(){return this.#i}get wordEnds(){return this.#a}#u(){return Date.now()*Math.random()}translateBracket(t,e,n=!1){let r=t,o=!1;return"CDETQRG".includes(e)&&("C"===e&&(r=n?")":"(",o=!0),"D"===e&&(r=n?"}}":"{{",o=!0),"E"===e&&(r=n?"}":"{",o=!0),"T"===e&&(r=n?"]":"[",o=!0),"Q"===e&&(r="'",o=!0),"R"===e&&(r='"',o=!0),"G"===e&&(r="`",o=!0)),{word:r,translated:o}}markupQuotes(){let t=this.#n;const e=/(["'`])((\s|((\\)*)\\.|.)*?)\1/gm;let n;const r=[];for(;null!==(n=e.exec(t));)n.index===e.lastIndex&&e.lastIndex++,r.push(n);for(let e=r.length-1;e>-1;e--){const n=r[e],o=n[1],i=n[0];let a=n[2];const s=n.index+1,c=s+i.length-1;let u="";'"'===o?u="R":"'"===o?u="Q":"`"===o&&(u="G"),a=a.replace(/&lt;/g,"&pp;"),a=a.replace(/&gt;/g,"&pg;");const l=`&oq;${u}&cq;${a}&oq;/${u}&cq;`,f=t.substring(0,s-1),h=t.substring(c);t=f+l+h}this.#n=t}doAttributes(t){const e={},n=/([\w]*)(\[\])?=("([\S ][^"]*)"|'([\S]*)'|\{\{ ([\w]*) \}\}|\{([\S ]*)\})/gm;let r;const o=[];for(;null!==(r=n.exec(t));)r.index===n.lastIndex&&n.lastIndex++,o.push(r);for(let t=0;t<o.length;t++){const n=o[t],r=n[1],i=n[2],a=n[3].substring(0,1),s=n[4];"[]"===i?(void 0===e[r]&&(e[r]=[]),e[r].push(a+s)):e[r]=`${a}${s}`}return e}isClosedTag(t){let n=!1;const{text:r}=t;return""===r||(n=r.substring(r.length-5,r.length)==="/"+e),n}isCloserTag(e){let n=!1;const{text:r}=e;return""===r||(n=r.substring(0,5)===t+"/"),n}makeTag(t,e,n,r,o=!1){const{text:i}=t,{name:a}=t,s=this.list.length,c={};return c.id=t.id,c.name=""===a?"Fragment":a,c.text=i,c.startsAt=t.startsAt,c.endsAt=t.endsAt,o||(c.uid=this.#u,c.method="echo",c.props=(c.name,[]),c.depth=n,c.hasCloser=r,c.node=!1,c.isSingle=!1),void 0!==e[n]&&null!==e[n]||(e[n]=s-1),c.parentId=e[n],c}protect(){let n=this.#n;n=n.trim(),n=n.replace(/\{\{/g,"<D>"),n=n.replace(/\}\}/g,"</D>"),n=n.replace(/\(/g,"<C>"),n=n.replace(/\)/g,"</C>"),n=n.replace(/\{/g,"<E>"),n=n.replace(/\}/g,"</E>"),n=n.replace(/\[/g,"<T>"),n=n.replace(/\]/g,"</T>"),n=n.replace(/<([/\w])/g,`${t}$1`),n=n.replace(/>/g,e),this.#n=n}collectTags(n,r="[\\w]+"){const o=[],i=[],a=new RegExp(`${t}\\/?(${r})((\\s|.*?)*?)\\/?${e}`,"gm");let s;for(;null!==(s=a.exec(n));)s.index===a.lastIndex&&a.lastIndex++,i.push(s);let c=0;return i.forEach((t=>{const e=t;e.id=c,e.text=t[0],e.name=null===t[1]?"Fragment":t[1],e.startsAt=t.index,e.endsAt=t.index+e.text.length-1,delete e[0],delete e[1],delete e[2],delete e[3],o.push(e),c++})),o}collectWords(t){const e=[],n=[];let r,o=/([&oqpg;]{4})[\w /]+([&cqpp;]{4})/gm;for(;null!==(r=o.exec(t));)r.index===o.lastIndex&&o.lastIndex++,n.push(r);let i=t;for(let t=n.length-1;t>-1;t--){const e=n[t][0],r=n[t].index+1,o=r+e.length-1,a="•".repeat(e.length),s=i.substring(0,r-1),c=i.substring(o);i=s+a+c}for(o=/([&lt;]{4})[\w /]+([&gt;]{4})/gm;null!==(r=o.exec(i));)r.index===o.lastIndex&&o.lastIndex++,n.push(r);for(let t=n.length-1;t>-1;t--){const e=n[t][0],r=n[t].index+1,o=r+e.length-1,a="•".repeat(e.length),s=i.substring(0,r-1),c=i.substring(o);i=s+a+c}for(o=/([&ltgt;]{4})/gm;null!==(r=o.exec(i));)r.index===o.lastIndex&&o.lastIndex++,n.push(r);for(let t=n.length-1;t>-1;t--){const e=n[t][0],r=n[t].index+1,o=r+e.length-1,a="•".repeat(e.length),s=i.substring(0,r-1),c=i.substring(o);i=s+a+c}for(o=/((?!•)\S[^•\n]*)/g;null!==(r=o.exec(i));)r.index===o.lastIndex&&o.lastIndex++,this.#o.push(r.index),this.#i.push(r[0].length);for(o=/((?!•)\S[^•\n ]*)/g;null!==(r=o.exec(i));){r.index===o.lastIndex&&o.lastIndex++;const t={};t.text=r[0],t.startsAt=r.index,t.endsAt=t.startsAt+r[0].length-1,e.push(t),this.#a.push(t.endsAt)}this.#r=e}makeMistakes(){let t=Math.ceil(2*Math.random())-2;const e=Math.ceil(3*Math.random())+2;this.#r.forEach((n=>{if(t++,t%e!=0||n.text.length<4)return;const r=Math.ceil(Math.random()*n.text.length)-1,o=String.fromCharCode(Math.ceil(26*Math.random())+96);this.#c.push(n.startsAt+r),this.#s.push(o)}))}makeFaultyText(){let t=this.#n;this.#s.forEach((e=>{const n=t.substring(0,e.startsAt),r=t.substring(e.endsAt+1);t=n+e.text+r})),this.#n=t}splitTags(t){let e=[...t],n=e.length,r=0,o=!1,i=0;const a=n;let s=!1;const c=[],u=[];for(;e.length>0&&!o&&!s;){if(r===n){if(r=0,e=Object.values(e),n=e.length,0===n){o=!0;continue}i++,s=i>a+1}const t=e[r];if(1!==e.length||"Eof"!==t.name)if(this.isClosedTag(t)&&"Eof"!==t.name)u[r]=e[r],delete e[r],r++;else{if(r+1<n){const n=e[r+1];if(!this.isCloserTag(t)&&this.isCloserTag(n)){if(t.name!==n.name){c.push(t),delete e[r],r++;continue}u[r]=e[r],u[r+1]=e[r+1],delete e[r],delete e[r+1],r+=2;continue}}r++}else o=!0}return{regularTags:u,singleTags:c}}replaceTags(t,n){let r=t,o=n;const i=[];n.forEach((t=>{i[t.id]=t})),i.sort(),o=Object.values(i);for(let t=o.length-1;t>-1;t--){const n=o[t];n.text=n.text.substring(0,n.text.length-4)+"/"+e;const i=r.substring(0,n.startsAt),a=r.substring(n.endsAt+1);r=i+n.text+a}return r}doComponents(t="[\\w]+"){let e=this.#n;const n=this.collectTags(e,t),r=[];let o=[],i=0;const a=[];let s=n.length,c=0,u=!1,l=0;const f=s;let h=!1;a[i]=-1;const{singleTags:p}=this.splitTags(n);let d=n;for(p.length&&(p.forEach((t=>r.push(t.id))),e=this.replaceTags(e,p),d=this.collectTags(e,t));d.length>0&&!u&&!h;){if(c===s){if(c=0,d=Object.values(d),s=d.length,0===s){u=!0;continue}l++,h=l>f+1}const t=d[c];if(1!==d.length||"Eof"!==t.name)if(this.isClosedTag(t)&&"Eof"!==t.name){const e=this.makeTag(t,a,i,!1);e.isSingle=r.includes(t.id),o[e.id]=e,delete d[c],c++}else{if(this.isCloserTag(t)&&i--,c+1<s){const n=d[c+1];if(!this.isCloserTag(t)&&this.isCloserTag(n)){const r=this.makeTag(t,a,i,!0),s=this.makeTag(n,a,i,!1,!0);s.contents={},s.parentId=r.id,s.contents.startsAt=r.endsAt+1,s.contents.endsAt=s.startsAt;const u=e.substring(s.contents.startsAt,s.contents.endsAt);s.contents.text=u,r.closer=s,o[r.id]=r,delete d[c],delete d[c+1],c+=2;continue}this.isCloserTag(t)||this.isCloserTag(n)||(i++,a[i]=t.id)}c++}else u=!0}o=Object.values(o),this.#n=e,this.#t=o}}const r="&lt;",o="&gt;",i="<",a=">",s="/",c="\n";class u{#l="";#f=60;#h=!1;constructor(t,e,n,r,o){this.#p=t,this.#l=e,this.#f=n,this.#d=o,this.#h=r}#p=()=>{};#d=()=>{};async writeLikeAHuman(t,e){const u=void 0!==e,l=this.#p.querySelector(`pre#${e} code`),f=this.#p.querySelector(u?`pre#${t} code`:`div#${t}`);let h=this.#f,p=[],d="",y="",v="",g=null,m=[];const w=[];let b="",x="",k=-1;const E=[],O=[];let j=0,L=this;function T(t){return new Promise((e=>{setTimeout(e,t)}))}async function S(t,e=!1){let n=p.join("");e&&(n=n.trim()),h=function(t){return Math.floor(.75*t+Math.random()*t)}(L.#f),d+=t,f.innerHTML=d+n,u&&void 0!==window.hljs&&window.hljs.highlightElement(f),await T(h)}async function A(){const t=p.join("");d=d.substring(0,d.length-1),f.innerHTML=d+t,await T(h)}function _(t){p.unshift(t)}function P(){delete p[0],p=Object.values(p)}function C(){let t=null;return m.length?(t=m.shift(),t.hasCloser&&w.push(t),t):t}function I(){if(!E.length)return null;const t=E.pop();_(O.pop()?c+y+t:t)}function R(t){let e=null;if(!w.length)return e;if(e=w.length?w[w.length-1]:null,t===e.depth)return e;let n=!1;for(let r=w.length-1;r>-1;r--)if(e=w[r],t===e.depth){n=!0;break}return n?e:null}const G=this.#l;u&&void 0!==window.hljs&&window.hljs.highlightElement(l),b=await async function(t){let e="";return await fetch(t).then((t=>t.text())).then((t=>{e=t})),e}(G);const N=function(t){const e=[],n=/^([^\S][ \s]+)*/gm;let r;for(;null!==(r=n.exec(t));)r.index===n.lastIndex&&n.lastIndex++,e.push(r[0]??"");return e}(b);b=b.replace(/^([^\S][ \s]+)*/gm,"");const M=new n(b,u);M.doComponents(),m=[...M.list],x=M.workingText.replace(`${c+r}Eof ${s}${o}`,""),u&&(l.innerHTML=function(t){const e=t.split("\n");return"<br />".repeat(e.length)}(b+"\n"));const F=N[j]??"";await S(F),j++;for(let t=0;t<x.length;t++){let e=x[t];if(u&&e===i){e=r,await S(e);continue}if(this.#h&&M.mistakes.length&&M.phraseStarts.length&&M.phraseStarts[0]===t){const n=M.phraseLengths[0];for(let r=0;r<n;r++){const n=t+r,o=M.mistakeCursors[0];if(e=x[n],o===n?await S(M.mistakes[0]):await S(e),M.wordEnds.includes(n)&&M.mistakeCursors.length){const t=M.mistakeCursors[0];if(t<=n){const e=n-t+1;for(let t=0;t<e;t++)await A(),r--;M.mistakes.shift(),M.mistakeCursors.shift()}}}M.phraseStarts.shift(),M.phraseLengths.shift(),t+=n-1;continue}const n=x.substring(t,t+4),l=x.substring(t,t+5);if("&"!==e||"&oq;/"!==l)if("&"!==e||"&oq;"!==n)if("&"!==e||"&pp;"!==n)if("&"!==e||"&pg;"!==n){if(u){if("/"===e&&l===s+o&&null!==g&&!g.hasCloser&&g.endsAt===t+4){e=s+o,P(),await S(e),t+=4;continue}if("&"===e&&n===o&&null!==g&&g.endsAt===t+3){P(),await S(o),g.hasCloser&&I(),t+=3;continue}}if("&"===e&&l===r+s){g=R(k),null===g&&k-1>-1&&(g=R(k-1)),e=g.closer.text,u||(e=i+s+g.closer.name+a);const{word:n}=M.translateBracket(e,g.name,!0);if(e=n,""!==e){P(),t=g.closer.endsAt,await S(e),k--,g=null;continue}}if("&"!==e||n===r)if("&"!==e||n!==r)if(e!==c)await S(e);else{y=N[j]??"",v=c+y;const e=p.length?p[0].trim():"",n=x.substring(t+1,t+e.length+1);j++,await S(v,e===n)}else{if((null===g||null!==g&&g.dirty)&&(g=C()),g.startsAt!==t){u?(e=r,t+=3):(e=g.text.replace(r,i),e=e.replace(o,a)),await S(e),g.dirty=!1;continue}g.dirty=!0;let n=!1,l="";e=g.text,u||(e=g.text.replace(r,i),e=e.replace(o,a));const{word:f,translated:h}=M.translateBracket(e,g.name);if(e=f,g.hasCloser){k++,l=g.closer.text,u||(l=i+s+g.closer.name+a);const{word:e,translated:r}=M.translateBracket(l,g.name,!0);l=e,n=g.closer.contents.text.indexOf(c)>-1,r?(t=g.endsAt,_(n?c+y+l:l)):(E.push(l),O.push(n))}h||(n=g.text.indexOf(c)>-1,u?(e=r,t+=3,l=o):(e=g.text.replace(r,i),e=e.replace(o,a),t+=g.text.length-1,l=i+s+g.closer.name+a),_(n?c+y+l:l)),await S(e)}else{const n=x.substring(t).indexOf(";");if(n>8){await S(e);continue}const r=x.substring(t,t+n+1);await S(r),t+=r.length-1}}else t+=3,await S(o);else t+=3,await S(r);else{const n=x.substring(t+4,t+5),{word:r}=M.translateBracket(e,n);_(r),await S(r),t+=8}else{const n=x.substring(t+5,t+6),{word:r}=M.translateBracket(e,n);P(),await S(r),t+=9}}d=d.replaceAll(r,i).replaceAll(o,a),this.finishedEvent(d)}finishedEvent(t){"function"==typeof this.#d&&this.#d.call(this,t)}}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new T(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var p={};function d(){}function y(){}function v(){}var g={};c(g,i,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(S([])));w&&w!==e&&n.call(w,i)&&(g=w);var b=v.prototype=d.prototype=Object.create(g);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function o(r,i,a,s){var c=h(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==l(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return y.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},x(k.prototype),c(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(b),c(b,s,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return m(t,arguments,x(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)},g(t)}function m(t,e,n){return m=w()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&b(o,n.prototype),o},m.apply(null,arguments)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(u,t);var e,n,r,o,i,a,s,c=(a=u,s=w(),function(){var t,e=x(a);if(s){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return e=u,n=[{key:"source",get:function(){var t;return null!==(t=this.getAttribute("source"))&&void 0!==t?t:null}},{key:"speed",get:function(){var t;return null!==(t=this.getAttribute("speed"))&&void 0!==t?t:60}},{key:"dependsOnSelector",get:function(){var t;return null!==(t=this.getAttribute("depends-on-selector"))&&void 0!==t?t:null}},{key:"makeTypos",get:function(){var t;return"true"===(null!==(t=this.getAttribute("make-typos"))&&void 0!==t?t:"").toLowerCase()}},{key:"styles",get:function(){var t;return null!==(t=this.getAttribute("styles"))&&void 0!==t?t:null}},{key:"classes",get:function(){var t;return null!==(t=this.getAttribute("classes"))&&void 0!==t?t:null}},{key:"finished",get:function(){var t;return null!==(t=this.getAttribute("finished"))&&void 0!==t?t:null}},{key:"restart",get:function(){var t;return null!==(t=this.getAttribute("restart"))&&void 0!==t?t:null}},{key:"connectedCallback",value:(i=y(f().mark((function t(){var e,n,r,o=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.styles&&null!==this.classes&&(this.styles.split(",").forEach((function(t){var e=document.createElement("style");e.innerHTML='@import "'.concat(t,'"'),o.shadowRoot.appendChild(e)})),this.shadowRoot.getElementById("to-write").setAttribute("class",this.classes)),null===this.dependsOnSelector){t.next=6;break}void 0===(e=document.querySelector(this.dependsOnSelector))||"TEXT-WRITER"!==e.tagName&&"CODE-WRITER"!==e.tagName||(n={attributes:!0},r=new MutationObserver(function(){var t=y(f().mark((function t(n,r){var i,a,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=h(n),t.prev=1,i.s();case 3:if((a=i.n()).done){t.next=12;break}if("attributes"!==(s=a.value).type||"finished"!==s.attributeName){t.next=10;break}if(!e.finished){t.next=10;break}return r.disconnect(),t.next=10,o.writeLikeAHuman();case 10:t.next=3;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()),r.observe(e,n)),t.next=8;break;case 6:return t.next=8,this.writeLikeAHuman();case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"writeLikeAHuman",value:(o=y(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}],r=[{key:"observeAttributes",get:function(){return["source","speed","depends-on-selector","make-typos","styles","classes","finished"]}}],n&&v(e.prototype,n),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(g(HTMLElement));function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(){O=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new T(o||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==E(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function j(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){T(i,r,o,a,s,"next",t)}function s(t){T(i,r,o,a,s,"throw",t)}a(void 0)}))}}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},_.apply(this,arguments)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(l,t);var e,n,r,o,i,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(a);if(s){var n=C(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this)).attachShadow({mode:"open"}),t.shadowRoot.innerHTML="\n<style>\n\n#to-copy {\n    display: block;\n    position: relative;\n    float: left;\n    width: ".concat(t.snippetWidth,";\n}\n\n#to-write {\n    width: ").concat(t.snippetWidth,";\n}\n\n.to-be-copied {\n    display: block;\n    position: relative;\n    float: left;\n}\n\n.to-be-written {\n    display: flex;\n    position: absolute;\n    width: ").concat(t.snippetWidth,';\n}\n\n.code-snippet {\n    display: flex;\n    font-size: medium;\n}\n\ndiv,\np,\nspan,\ntextarea {\n    -tab-size: 4;\n    -o-tab-size: 4;\n    -moz-tab-size: 4;\n}\n\n</style>\n\n<div class="code-snippet">\n    <div class="to-be-copied">\n        <pre id="to-copy"><code></code></pre>\n    </div>\n    <div class="to-be-written">\n        <pre id="to-write"><code></code></pre>\n    </div>\n</div>\n'),t}return e=l,n=[{key:"useHighlightJs",get:function(){var t;return"true"===(null!==(t=this.getAttribute("use-highlight-js"))&&void 0!==t?t:"").toLowerCase()}},{key:"theme",get:function(){var t;return null!==(t=this.getAttribute("theme"))&&void 0!==t?t:null}},{key:"language",get:function(){var t;return null!==(t=this.getAttribute("language"))&&void 0!==t?t:null}},{key:"snippetWidth",get:function(){var t;return null!==(t=this.getAttribute("snippet-width"))&&void 0!==t?t:"45vw"}},{key:"connectedCallback",value:(i=S(O().mark((function t(){var e,n,r,o,i,a,s,c,u,f=this;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.useHighlightJs){r=null!==(e=this.theme)&&void 0!==e?e:"base16/monokai",o=null!==(n=this.language)&&void 0!==n?n:"html",(i=document.createElement("script")).src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js",this.shadowRoot.appendChild(i),(a=[]).push("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css"),a.push("https://highlightjs.org/static/demo/styles/".concat(r,".css")),a.forEach((function(t){var e=document.createElement("style");e.innerHTML='@import "'.concat(t,'"'),f.shadowRoot.appendChild(e)})),s=this.shadowRoot.querySelectorAll("code"),c=j(s);try{for(c.s();!(u=c.n()).done;)u.value.setAttribute("class","language-".concat(o))}catch(t){c.e(t)}finally{c.f()}}return t.next=3,_(C(l.prototype),"connectedCallback",this).call(this);case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"onFinishedWriting",value:function(t){var e=new CustomEvent("finishedWriting",{bubbles:!0,composed:!0,detail:{content:t}});this.dispatchEvent(e),this.setAttribute("finished","true")}},{key:"writeLikeAHuman",value:(o=S(O().mark((function t(){var e,n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.onFinishedWriting.bind(this),n=new u(this.shadowRoot,this.source,this.speed,this.makeTypos,e),t.next=4,n.writeLikeAHuman("to-write","to-copy");case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],r=[{key:"observeAttributes",get:function(){var t=_(C(l),"observeAttributes",this).call(this);return Array.prototype.concat(t,["use-highlight-js","theme","language","snippet-width"])}}],n&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(k);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function G(){G=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new j(o||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==R(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function N(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(c,t);var e,n,r,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$(i);if(a){var n=$(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this)).attachShadow({mode:"open"}),t.shadowRoot.innerHTML='\n<div class="text-snippet">\n    <div class="to-be-written">\n        <div id="to-write"></div>\n    </div>\n</div>\n',t}return e=c,n=[{key:"onFinishedWriting",value:function(t){var e=new CustomEvent("finishedWriting",{bubbles:!0,composed:!0,detail:{content:t}});this.dispatchEvent(e),this.setAttribute("finished","true")}},{key:"writeLikeAHuman",value:(r=G().mark((function t(){var e,n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.onFinishedWriting.bind(this),n=new u(this.shadowRoot,this.source,this.speed,this.makeTypos,e),t.next=4,n.writeLikeAHuman("to-write");case 4:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){N(i,n,o,a,s,"next",t)}function s(t){N(i,n,o,a,s,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})}],n&&M(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(k);customElements.define("code-writer",I),customElements.define("text-writer",H)})();